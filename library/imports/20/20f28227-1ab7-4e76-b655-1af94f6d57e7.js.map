{"version":3,"sources":["assets/Scripts/Utils3.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GameBundle } from \"./GameData\";\n\nexport class Utils3 {\n    public static setDesignResolution(): void {\n        const canvas = cc.find(\"Canvas\").getComponent(cc.Canvas);\n        const winSize = cc.winSize;\n        \n        if (winSize.width / winSize.height > 9 / 16) {\n            canvas.fitWidth = false;\n            canvas.fitHeight = true;\n        } else {\n            canvas.fitWidth = true;\n            canvas.fitHeight = false;\n        }\n    }\n\n    public static setKVUserData(key: string, value: string): void {\n        cc.sys.localStorage.setItem(key, value);\n    }\n\n    public static getKVUserData(key: string): string {\n        return cc.sys.localStorage.getItem(key);\n    }\n\n    public static loadRes(path: string, type: typeof cc.Asset, callback?: Function): void {\n        GameBundle[3].load(\"GameRes3/\" + path, type, (err: Error, asset: cc.Asset) => {\n            if (err) {\n                cc.error(err.message || err);\n            } else if (typeof callback === \"function\") {\n                callback(asset);\n            }\n        });\n    }\n\n    public static fadeIn(node: cc.Node, duration: number = 1): void {\n        node.opacity = 0;\n        node.runAction(cc.fadeIn(duration));\n    }\n\n    public static getSaveData(callback?: Function): void {\n        let saveData = cc.sys.localStorage.getItem(window.GAME_SAVE_HANDLER);\n        \n        if (saveData) {\n            window.INIT_GAME_SAVE_DATA = JSON.parse(saveData);\n        } else {\n            cc.sys.localStorage.setItem(window.GAME_SAVE_HANDLER, JSON.stringify(window.INIT_GAME_SAVE_DATA));\n            saveData = window.INIT_GAME_SAVE_DATA;\n        }\n        \n        if (callback) {\n            callback(saveData);\n        }\n    }\n\n    public static setSaveData(): void {\n        console.log(\"本地数据设置成功\", JSON.stringify(window.INIT_GAME_SAVE_DATA));\n        cc.sys.localStorage.setItem(window.GAME_SAVE_HANDLER, JSON.stringify(window.INIT_GAME_SAVE_DATA));\n    }\n\n    public static random(min: number, max: number): number {\n        return min + Math.floor(Math.random() * (max - min));\n    }\n\n    public static getAngle(x1: number, y1: number, x2: number, y2: number): number {\n        const dx = Math.abs(x1 - x2);\n        const dy = Math.abs(y1 - y2);\n        const sinValue = dy / Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n        const angle = Math.acos(sinValue);\n        return 180 / (Math.PI / angle);\n    }\n\n    public static getRandomSDiff(min: number, max: number, count: number): number[] {\n        if (max - min + 1 < count) {\n            return [];\n        }\n\n        const arr: number[] = new Array(max - min + 1);\n        for (let i = 0; i < arr.length; i++) {\n            arr[i] = min + i;\n        }\n\n        const result: number[] = new Array(count);\n        for (let i = 0; i < count; i++) {\n            const randomIndex = this.random(0, arr.length - 1 - i);\n            result[i] = arr[randomIndex];\n            \n            const lastIndex = arr.length - 1 - i;\n            const temp = arr[lastIndex];\n            arr[lastIndex] = arr[randomIndex];\n            arr[randomIndex] = temp;\n        }\n\n        return result;\n    }\n\n    public static showGetItem(count: number, type: number, parent: cc.Node, x?: number, y?: number): void {\n        this.loadRes(\"prefabs/textbg\", cc.Prefab, (prefab: cc.Prefab) => {\n            const node = cc.instantiate(prefab);\n            node.zIndex = 1000;\n            \n            const labelNode = node.getChildByName(\"l_num\");\n            const goldSprite = node.getChildByName(\"sp_gold\");\n            const boomSprite = node.getChildByName(\"sp_boom\");\n            \n            if (type === 0) {\n                labelNode.getComponent(cc.Label).string = cc.js.formatStr(\"Ultimate Bombingx%d\", count);\n                goldSprite.active = false;\n                boomSprite.active = true;\n            } else {\n                labelNode.getComponent(cc.Label).string = cc.js.formatStr(\"gold%d\", count);\n                goldSprite.active = true;\n                boomSprite.active = false;\n            }\n            \n            const posX = x || 0;\n            const posY = y || 0;\n            \n            if (parent && cc.isValid(parent)) {\n                node.parent = parent;\n            } else {\n                node.parent = cc.find(\"Canvas\");\n            }\n            \n            node.setPosition(posX, posY);\n            \n            const moveAction = cc.moveBy(1.5, cc.v2(0, 70));\n            const fadeAction = cc.fadeOut(1);\n            \n            node.runAction(cc.sequence(\n                moveAction,\n                fadeAction,\n                cc.callFunc(() => {\n                    node.destroy();\n                })\n            ));\n        });\n    }\n\n    public static showTipsText(text: string, parent: cc.Node, x?: number, y?: number, fontSize?: number, color?: cc.Color, duration?: number, moveDistance?: number): void {\n        const node = new cc.Node(\"tipstext\");\n        node.zIndex = 1000;\n        \n        const label = node.addComponent(cc.Label);\n        label.fontFamily = \"黑体\";\n        label.string = text;\n        \n        const posX = x || 0;\n        const posY = y || 0;\n        label.fontSize = fontSize || 40;\n        label.lineHeight = fontSize ? fontSize + 10 : 50;\n        node.color = color || cc.Color.WHITE;\n        \n        if (parent && cc.isValid(parent)) {\n            node.parent = parent;\n        } else {\n            node.parent = cc.find(\"Canvas\");\n        }\n        \n        const moveDuration = duration || 0.5;\n        const distance = moveDistance || 70;\n        \n        node.setPosition(posX, posY);\n        \n        const moveAction = cc.moveBy(moveDuration, cc.v2(0, distance));\n        const fadeAction = cc.fadeOut(1);\n        \n        node.runAction(cc.sequence(\n            moveAction,\n            fadeAction,\n            cc.callFunc(() => {\n                node.destroy();\n            })\n        ));\n    }\n\n    public static showHurtText(text: string, parent: cc.Node, x?: number, y?: number, fontSize?: number, color?: cc.Color, duration?: number, scale?: number, isStatic?: boolean): void {\n        this.loadRes(\"prefabs/l_hurt\", cc.Prefab, (prefab: cc.Prefab) => {\n            const node = cc.instantiate(prefab);\n            node.zIndex = 1000;\n            \n            const label = node.getComponent(cc.Label);\n            label.string = text;\n            \n            const posX = x || 0;\n            const posY = y || 0;\n            label.fontSize = fontSize || 40;\n            label.lineHeight = 80;\n            node.color = color || cc.Color.WHITE;\n            \n            if (parent && cc.isValid(parent)) {\n                node.parent = parent;\n            } else {\n                node.parent = cc.find(\"Canvas\");\n            }\n            \n            const moveDuration = duration || 0.5;\n            const jumpScale = scale || 1;\n            \n            node.setPosition(posX, posY);\n            \n            if (!this.dir) {\n                this.dir = false;\n            }\n            this.dir = !this.dir;\n            const direction = this.dir ? -1 : 1;\n            \n            if (isStatic) {\n                jumpScale = 0;\n            }\n            \n            const jumpAction = cc.jumpBy(moveDuration, 100 * jumpScale * direction, -30, 100, 1);\n            const fadeAction = cc.fadeOut(0.8);\n            \n            node.runAction(cc.sequence(\n                jumpAction,\n                fadeAction,\n                cc.callFunc(() => {\n                    node.destroy();\n                    node = null;\n                })\n            ));\n        });\n    }\n\n    public static moveIcon(spriteFrame: cc.SpriteFrame, parent: cc.Node, startPos: cc.Vec2, endPos: cc.Vec2, callback?: Function, duration?: number, jumpDistance?: number): void {\n        const moveDuration = duration || 1;\n        const node = new cc.Node(\"iconmove\");\n        \n        node.addComponent(cc.Sprite).spriteFrame = spriteFrame;\n        \n        if (parent && cc.isValid(parent)) {\n            node.parent = parent;\n        } else {\n            node.parent = cc.find(\"Canvas\");\n        }\n        \n        const randomValue = this.random(0, 1000);\n        node.anchorY = 0;\n        node.position = startPos;\n        node.zIndex = 1000;\n        \n        if (jumpDistance && jumpDistance > 0) {\n            if (randomValue > 500) {\n                jumpDistance *= -1;\n            }\n            \n            node.runAction(cc.sequence(\n                cc.jumpBy(0.5, jumpDistance, 0, 100, 1),\n                cc.delayTime(0.5),\n                cc.moveTo(moveDuration, endPos).easing(cc.easeIn(3)),\n                cc.callFunc(() => {\n                    if (callback) {\n                        callback();\n                    }\n                    node.destroy();\n                })\n            ));\n        } else {\n            node.runAction(cc.sequence(\n                cc.moveTo(moveDuration, endPos).easing(cc.easeIn(3)),\n                cc.callFunc(() => {\n                    if (callback) {\n                        callback();\n                    }\n                    node.destroy();\n                })\n            ));\n        }\n    }\n\n    public static SetSoundEffect(path: string): void {\n        GameBundle[3].load(\"GameRes3/\" + path, cc.AudioClip, (err: Error, clip: cc.AudioClip) => {\n            window.bgmAudioID = cc.audioEngine.playEffect(clip, false);\n        });\n    }\n\n    public static playBgmMusic(path?: string, loop?: boolean): void {\n        this.resumBgmMusic(path, loop);\n    }\n\n    public static resumBgmMusic(path?: string, loop?: boolean): void {\n        const bgmPath = path || window.BGM;\n        \n        try {\n            if (window.bgmAudioID >= 0) {\n                cc.audioEngine.resume(window.bgmAudioID);\n            } else {\n                setTimeout(() => {\n                    GameBundle[3].load(\"GameRes3/\" + bgmPath, cc.AudioClip, (err: Error, clip: cc.AudioClip) => {\n                        window.bgmAudioID = cc.audioEngine.playMusic(clip, true);\n                    });\n                }, 500);\n            }\n        } catch (err) {\n            console.error(err);\n            setTimeout(() => {\n                GameBundle[3].load(\"GameRes3/\" + bgmPath, cc.AudioClip, (err: Error, clip: cc.AudioClip) => {\n                    window.bgmAudioID = cc.audioEngine.playMusic(clip, true);\n                });\n            }, 500);\n        }\n    }\n\n    public static stopBgmMusic(): void {\n        try {\n            if (window.bgmAudioID !== undefined) {\n                cc.audioEngine.pause(window.bgmAudioID);\n            }\n        } catch (err) {\n            console.warn(err);\n        }\n    }\n\n    public static formatSecToTime(seconds: number): string {\n        let timeString = \"\";\n        \n        if (seconds > -1) {\n            const hours = Math.floor(seconds / 3600);\n            const minutes = Math.floor(seconds / 60) % 60;\n            const secs = seconds % 60;\n            \n            timeString = hours < 10 ? \"0\" + hours + \":\" : hours + \":\";\n            if (minutes < 10) {\n                timeString += \"0\";\n            }\n            timeString += minutes + \":\";\n            if (secs < 10) {\n                timeString += \"0\";\n            }\n            timeString += secs;\n        }\n        \n        return timeString;\n    }\n\n    public static getMin(a: number, b: number): number {\n        return a > b ? b : a;\n    }\n\n    public static getMax(a: number, b: number): number {\n        return a > b ? a : b;\n    }\n\n    public static getMiddleIndex(start: number, end: number, useCeil?: boolean): number {\n        const range = end - start;\n        \n        if (range % 2 === 0) {\n            return range / 2 + start;\n        } else {\n            return useCeil ? Math.ceil(range / 2) + start : Math.floor(range / 2) + start;\n        }\n    }\n\n    private static dir: boolean = false;\n}"]}