{"version":3,"sources":["assets/Scripts/PureMVC.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["namespace puremvc {\n    export class Observer {\n        public name: string;\n        public caller: any;\n        public method: Function;\n        public priority: number = 1;\n    }\n\n    export class Notifier {\n        protected facade: Facade = Facade.getInstance();\n\n        public sendNotification(notificationName: string, body?: any): void {\n            this.facade.sendNotification(notificationName, body);\n        }\n    }\n\n    export class Proxy extends Notifier {\n        protected proxyName: string;\n        protected data: any;\n\n        constructor(proxyName: string, data?: any) {\n            super();\n            if (proxyName === undefined) {\n                throw new Error(\"Invalid Proxy Name\");\n            }\n            this.proxyName = proxyName;\n            if (data !== undefined) {\n                this.data = data;\n            }\n        }\n\n        public getProxyName(): string {\n            return this.proxyName || null;\n        }\n\n        public onRegister(): void {}\n\n        public onRemove(): void {}\n\n        public setData(data: any): void {\n            this.data = data;\n        }\n\n        public getData(): any {\n            return this.data;\n        }\n    }\n\n    export class Controller {\n        private commands: { [key: string]: any } = {};\n        private static inst: Controller = null;\n        private static SINGLETON_MSG: string = \"Controller singleton already constructed!\";\n\n        constructor() {\n            if (Controller.inst !== null) {\n                throw new Error(Controller.SINGLETON_MSG);\n            }\n            Controller.inst = this;\n        }\n\n        public executeCommand(notificationName: string, body?: any): void {\n            const commandClass = this.commands[notificationName];\n            const command = new commandClass();\n            if (body === undefined) {\n                command.execute.call(command);\n            } else if (Array.isArray(body)) {\n                command.execute.apply(command, body);\n            } else {\n                command.execute.call(command, body);\n            }\n        }\n\n        public registerCommand(notificationName: string, commandClass: any): void {\n            if (this.hasCommand(notificationName)) {\n                throw new Error(\"Register Duplicate Command \" + notificationName);\n            }\n            this.commands[notificationName] = commandClass;\n            View.getInstance().registerObserver(notificationName, this.executeCommand, this);\n        }\n\n        public removeCommand(notificationName: string): void {\n            if (!this.hasCommand(notificationName)) {\n                throw new Error(\"Remove Non-Existent Command \" + notificationName);\n            }\n            delete this.commands[notificationName];\n            View.getInstance().removeObserver(notificationName, this.executeCommand, this);\n        }\n\n        public retrieveCommand(notificationName: string): any {\n            return this.commands[notificationName] || null;\n        }\n\n        public hasCommand(notificationName: string): boolean {\n            return this.retrieveCommand(notificationName) != null;\n        }\n\n        public static getInstance(): Controller {\n            if (Controller.inst === null) {\n                Controller.inst = new Controller();\n            }\n            return Controller.inst;\n        }\n    }\n\n    export class Model {\n        private proxies: { [key: string]: Proxy } = {};\n        private static inst: Model = null;\n        private static SINGLETON_MSG: string = \"Model singleton already constructed!\";\n\n        constructor() {\n            if (Model.inst !== null) {\n                throw new Error(Model.SINGLETON_MSG);\n            }\n            Model.inst = this;\n        }\n\n        public registerProxy(proxy: Proxy): void {\n            const proxyName = proxy.getProxyName();\n            if (proxyName === null) {\n                throw new Error(\"Register Invalid Proxy\");\n            }\n            if (this.hasProxy(proxyName)) {\n                throw new Error(\"Register Duplicate Proxy \" + proxyName);\n            }\n            this.proxies[proxyName] = proxy;\n            proxy.onRegister();\n        }\n\n        public removeProxy(proxyName: string): void {\n            if (proxyName === undefined) {\n                throw new Error(\"Remove Invalid Proxy\");\n            }\n            const proxy = this.retrieveProxy(proxyName);\n            if (proxy === null) {\n                throw new Error(\"Remove Non-Existent Proxy \" + proxyName);\n            }\n            delete this.proxies[proxyName];\n            proxy.onRemove();\n        }\n\n        public retrieveProxy(proxyName: string): Proxy {\n            return this.proxies[proxyName] || null;\n        }\n\n        public hasProxy(proxyName: string): boolean {\n            return this.retrieveProxy(proxyName) != null;\n        }\n\n        public static getInstance(): Model {\n            if (Model.inst === null) {\n                Model.inst = new Model();\n            }\n            return Model.inst;\n        }\n    }\n\n    export class View {\n        private mediators: { [key: string]: Mediator } = {};\n        private observers: { [key: string]: any[] } = {};\n        private isCanceled: boolean = false;\n        private onceObservers: Observer[] = [];\n        private static inst: View = null;\n        private static SINGLETON_MSG: string = \"View singleton already constructed!\";\n\n        constructor() {\n            if (View.inst !== null) {\n                throw new Error(View.SINGLETON_MSG);\n            }\n            View.inst = this;\n        }\n\n        public registerObserver(notificationName: string, method: Function, caller: any, priority: number = 1): Observer {\n            if (notificationName === undefined) {\n                throw new Error(\"Register Invalid Observer\");\n            }\n            if (method === undefined) {\n                throw new Error(\"Register Invalid Observer Method\");\n            }\n\n            let observerList = this.observers[notificationName];\n            if (observerList === undefined) {\n                observerList = this.observers[notificationName] = [false];\n            } else if (observerList[0] === true) {\n                observerList = this.observers[notificationName] = observerList.concat();\n                observerList[0] = false;\n            }\n\n            let insertIndex = -1;\n            for (let i = 1; i < observerList.length; i++) {\n                const observer = observerList[i];\n                if (observer.method === method && observer.caller === caller) {\n                    return null;\n                }\n                if (insertIndex === -1 && observer.priority < priority) {\n                    insertIndex = i;\n                }\n            }\n\n            const newObserver = new Observer();\n            newObserver.name = notificationName;\n            newObserver.caller = caller;\n            newObserver.method = method;\n            newObserver.priority = priority;\n\n            if (insertIndex < 0) {\n                observerList.push(newObserver);\n            } else {\n                observerList.splice(insertIndex, 0, newObserver);\n            }\n\n            return newObserver;\n        }\n\n        public removeObserver(notificationName: string, method: Function, caller: any): void {\n            if (notificationName === undefined) {\n                throw new Error(\"Remove Invalid Observer\");\n            }\n            if (method === undefined) {\n                throw new Error(\"Remove Invalid Observer Method\");\n            }\n\n            let observerList = this.observers[notificationName];\n            if (observerList !== undefined) {\n                if (observerList[0] === true) {\n                    observerList = this.observers[notificationName] = observerList.concat();\n                    observerList[0] = false;\n                }\n\n                for (let i = 1; i < observerList.length; i++) {\n                    const observer = observerList[i];\n                    if (observer.method === method && observer.caller === caller) {\n                        observerList.splice(i, 1);\n                        break;\n                    }\n                }\n\n                if (observerList.length === 1) {\n                    delete this.observers[notificationName];\n                }\n            }\n        }\n\n        public notifyCancel(): void {\n            this.isCanceled = true;\n        }\n\n        public notifyObservers(notificationName: string, body?: any): void {\n            if (notificationName === undefined) {\n                throw new Error(\"Notify Invalid Command\");\n            }\n\n            let observerList = this.observers[notificationName];\n            if (observerList !== undefined) {\n                observerList[0] = true;\n\n                for (let i = 1; i < observerList.length; i++) {\n                    const observer = observerList[i];\n                    if (observer.caller === Controller.getInstance()) {\n                        observer.method.call(observer.caller, notificationName, body);\n                    } else if (body === undefined) {\n                        observer.method.call(observer.caller);\n                    } else if (Array.isArray(body)) {\n                        observer.method.apply(observer.caller, body);\n                    } else {\n                        observer.method.call(observer.caller, body);\n                    }\n                }\n\n                observerList[0] = false;\n            }\n        }\n\n        public registerMediator(mediator: Mediator): void {\n            const mediatorName = mediator.getMediatorName();\n            if (mediatorName === null) {\n                throw new Error(\"Register Invalid Mediator\");\n            }\n            if (this.hasMediator(mediatorName)) {\n                throw new Error(\"Register Duplicate Mediator \" + mediatorName);\n            }\n            this.mediators[mediatorName] = mediator;\n            mediator.listNotificationInterests();\n            mediator.onRegister();\n        }\n\n        public removeMediator(mediatorName: string): void {\n            if (mediatorName === undefined) {\n                throw new Error(\"Remove Invalid Mediator\");\n            }\n            const mediator = this.retrieveMediator(mediatorName);\n            if (mediator === null) {\n                throw new Error(\"Remove Non-Existent Mediator \" + mediatorName);\n            }\n            delete this.mediators[mediatorName];\n            mediator.removeNotificationInterests();\n            mediator.onRemove();\n        }\n\n        public retrieveMediator(mediatorName: string): Mediator {\n            return this.mediators[mediatorName] || null;\n        }\n\n        public hasMediator(mediatorName: string): boolean {\n            return this.retrieveMediator(mediatorName) != null;\n        }\n\n        public static getInstance(): View {\n            if (View.inst === null) {\n                View.inst = new View();\n            }\n            return View.inst;\n        }\n    }\n\n    export class Mediator extends Notifier {\n        protected mediatorName: string;\n        protected viewComponent: any;\n        protected notificationInterests: Observer[] = [];\n\n        constructor(mediatorName: string, viewComponent?: any) {\n            super();\n            if (mediatorName === undefined) {\n                throw new Error(\"Invalid Mediator Name\");\n            }\n            if (viewComponent === undefined) {\n                throw new Error(\"Invalid View Component\");\n            }\n            this.mediatorName = mediatorName;\n            if (viewComponent !== undefined) {\n                this.viewComponent = viewComponent;\n            }\n        }\n\n        public getMediatorName(): string {\n            return this.mediatorName || null;\n        }\n\n        public getViewComponent(): any {\n            return this.viewComponent;\n        }\n\n        public listNotificationInterests(): void {}\n\n        public removeNotificationInterests(): void {\n            for (let i = 0; i < this.notificationInterests.length; i++) {\n                const interest = this.notificationInterests[i];\n                View.getInstance().removeObserver(interest.name, interest.method, interest.caller);\n            }\n        }\n\n        public handleNotification(notificationName: string, method: Function): void {\n            const observer = View.getInstance().registerObserver(notificationName, method, this);\n            if (observer) {\n                this.notificationInterests.push(observer);\n            }\n        }\n\n        public onRegister(): void {}\n\n        public onRemove(): void {}\n    }\n\n    export class Facade {\n        protected view: View = new View();\n        protected model: Model = new Model();\n        protected controller: Controller = new Controller();\n        private static inst: Facade = null;\n        private static SINGLETON_MSG: string = \"Facade singleton already constructed!\";\n\n        constructor() {\n            if (Facade.inst !== null) {\n                throw new Error(Facade.SINGLETON_MSG);\n            }\n            Facade.inst = this;\n            this.initializeFacade();\n        }\n\n        public static getInstance(): Facade {\n            if (Facade.inst === null) {\n                Facade.inst = new Facade();\n            }\n            return Facade.inst;\n        }\n\n        protected initializeFacade(): void {\n            this.initializeModel();\n            this.initializeView();\n            this.initializeController();\n        }\n\n        protected initializeModel(): void {}\n\n        protected initializeView(): void {}\n\n        protected initializeController(): void {}\n\n        public registerObserver(notificationName: string, method: Function, caller: any, priority?: number): void {\n            this.view.registerObserver(notificationName, method, caller, priority);\n        }\n\n        public removeObserver(notificationName: string, method: Function, caller: any): void {\n            this.view.removeObserver(notificationName, method, caller);\n        }\n\n        public registerCommand(notificationName: string, commandClass: any): void {\n            this.controller.registerCommand(notificationName, commandClass);\n        }\n\n        public removeCommand(notificationName: string): void {\n            this.controller.removeCommand(notificationName);\n        }\n\n        public hasCommand(notificationName: string): boolean {\n            return this.controller.hasCommand(notificationName);\n        }\n\n        public registerProxy(proxy: Proxy): void {\n            this.model.registerProxy(proxy);\n        }\n\n        public removeProxy(proxyName: string): void {\n            this.model.removeProxy(proxyName);\n        }\n\n        public retrieveProxy(proxyName: string): Proxy {\n            return this.model.retrieveProxy(proxyName);\n        }\n\n        public hasProxy(proxyName: string): boolean {\n            return this.model.hasProxy(proxyName);\n        }\n\n        public registerMediator(mediator: Mediator): void {\n            this.view.registerMediator(mediator);\n        }\n\n        public removeMediator(mediatorName: string): void {\n            this.view.removeMediator(mediatorName);\n        }\n\n        public retrieveMediator(mediatorName: string): Mediator {\n            return this.view.retrieveMediator(mediatorName);\n        }\n\n        public hasMediator(mediatorName: string): boolean {\n            return this.view.hasMediator(mediatorName);\n        }\n\n        public sendNotification(notificationName: string, body?: any): void {\n            this.view.notifyObservers(notificationName, body);\n        }\n\n        public notifyCancel(): void {\n            this.view.notifyCancel();\n        }\n    }\n\n    export class MacroCommand extends Notifier {\n        protected commands: any[] = [];\n\n        constructor() {\n            super();\n            this.initializeMacroCommand();\n        }\n\n        protected initializeMacroCommand(): void {}\n\n        public addSubCommand(commandClass: any): void {\n            this.commands.push(commandClass);\n        }\n\n        public execute(...args: any[]): void {\n            for (let i = 0; i < this.commands.length; i++) {\n                const commandClass = this.commands[i];\n                const command = new commandClass();\n                command.execute.apply(command, args);\n            }\n        }\n    }\n\n    export class SimpleCommand extends Notifier {\n        public execute(...args: any[]): void {}\n    }\n}"]}