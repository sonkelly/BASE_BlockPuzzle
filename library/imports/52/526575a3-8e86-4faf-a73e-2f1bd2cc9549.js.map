{"version":3,"sources":["assets/Scripts/PTT.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class PTT extends cc.Component {\n    public bannerAd: any = null;\n    public insterstitialAd: any = null;\n    public rewardedVideoAd: any = null;\n    public gameRecorderManager: any = null;\n    public info: any = null;\n    public bw: number = 0;\n    public bh: number = 0;\n    public btop: number = 0;\n    public videoPath: string = null;\n    public gameRecordStartTime: number = 0;\n    public gameRecordStopTime: number = 0;\n    public recordStartCb: Function = null;\n    public recordStopCb: Function = null;\n    public rewardedVideoTimeMax: number = 5000;\n    public rewardedVideoLoadTimeout: any = null;\n    public rewardedVideoIsLoaded: boolean = false;\n    public moreGameBanner: any = null;\n    public moreGameBtn: any = null;\n    public followBtn: any = null;\n    public env: any = null;\n    public centerBanner: any = null;\n    public bannerAutoShow: boolean = false;\n    public rewardedVideoIAutoShow: boolean = false;\n\n    public init(): void {\n        this.env = tt;\n        this.info = (window['lplatform'] && lplatform.systemInfo) || this.env.getSystemInfoSync();\n        this.bh = lplatform.cparam.bannerHeight || 170;\n        this.bw = lplatform.cparam.bannerWidth || Math.min(this.info.windowWidth, 16 * this.bh / 9);\n        this.gameRecorderManager = this.env.getGameRecorderManager();\n    }\n\n    public initAD(): void {\n        this.loadBanner(false);\n        this.loadInterstitial(false);\n        this.createRewardedVideo(false);\n        \n        if (lplatform.labData.openVideo && lplatform.labData.openVideo == 1) {\n            const scene = this.env.getLaunchOptionsSync().scene;\n            if (scene !== \"023001\" && scene !== \"023002\" && scene !== \"013002\" && scene !== \"013003\") {\n                this.showRewardedVideo();\n            }\n        }\n    }\n\n    public checkOpenSceneValue(): boolean {\n        let result = true;\n        if (typeof this.env.getLaunchOptionsSync === \"function\") {\n            const sceneValue = this.env.getLaunchOptionsSync().scene;\n            console.log(\"sceneValue:\" + sceneValue);\n            this.recordSceneValue(sceneValue);\n            \n            if (!lplatform.labData.openSceneValues || lplatform.labData.openSceneValues.indexOf(sceneValue) < 0) {\n                result = false;\n            }\n        }\n        return result;\n    }\n\n    public release(): void {\n        this.hideBanner(true);\n        this.hideInterstitial();\n        this.hideRewardedVideo();\n        this.hideLoading();\n        \n        if (this.moreGameBanner) {\n            this.moreGameBanner.destroy();\n        }\n        \n        if (this.followBtn) {\n            this.followBtn.destroy();\n        }\n    }\n\n    public loadBanner(autoShow: boolean): void {\n        this.hideBanner(true);\n        \n        if (!this.bannerAd) {\n            this.btop = 0;\n            if (lplatform.cparam.bannerOnBottom) {\n                this.btop = this.info.windowHeight - this.bh;\n            }\n            \n            lplatform.plog(\"loadBanner this.bh:\" + this.bh + \" this.btop:\" + this.btop + \" this.bw:\" + this.bw);\n            \n            this.bannerAd = this.env.createBannerAd({\n                adUnitId: lplatform.cparam.bannerID,\n                adIntervals: 30,\n                style: {\n                    width: this.bw,\n                    height: this.bh,\n                    left: (this.info.windowWidth - this.bw) / 2,\n                    top: this.btop\n                }\n            });\n            \n            this.bannerAd.onLoad(this.onBannerLoad.bind(this));\n            this.bannerAd.onError(this.onBannerError.bind(this));\n            this.bannerAd.onResize(this.onBannerResize.bind(this));\n        }\n        \n        this.bannerAutoShow = autoShow;\n        if (this.bannerAutoShow) {\n            this.bannerAd.show();\n        }\n    }\n\n    public onBannerLoad(): void {\n        // Banner load callback\n    }\n\n    public onBannerError(err: any, msg: string): void {\n        lplatform.plog(\"onBannerError code:\" + JSON.stringify(err) + \" msg:\" + msg);\n    }\n\n    public onBannerResize(size: any): void {\n        this.btop = 0;\n        if (lplatform.cparam.bannerOnBottom) {\n            this.btop = this.info.windowHeight - size.height;\n        }\n        \n        this.bannerAd.style.top = this.btop;\n        this.bannerAd.style.left = (this.info.windowWidth - size.width) / 2;\n        \n        lplatform.plog(\"onBannerResize this.bannerAd.style.top:\" + this.bannerAd.style.top + \" .left:\" + this.bannerAd.style.left + \" lplatform.cparam.bannerOnBottom:\" + lplatform.cparam.bannerOnBottom);\n    }\n\n    public showBanner(): void {\n        if (this.bannerAd) {\n            this.bannerAd.show().then(() => {}).catch((err: any) => {\n                lplatform.plog(err);\n            });\n        } else {\n            this.loadBanner(true);\n        }\n    }\n\n    public hideBanner(destroy: boolean = false): void {\n        if (this.bannerAd) {\n            this.bannerAd.hide();\n            if (destroy) {\n                this.bannerAd.offLoad(this.onBannerLoad);\n                this.bannerAd.offError(this.onBannerError);\n                this.bannerAd.offResize(this.onBannerResize);\n                this.bannerAd.destroy();\n                this.bannerAd = null;\n            }\n        }\n        \n        if (this.moreGameBanner) {\n            this.moreGameBanner.hide();\n            if (destroy && typeof this.moreGameBanner.destroy === \"function\") {\n                this.moreGameBanner.destroy();\n            }\n        }\n    }\n\n    public showCenterBanner(): void {\n        if (!this.centerBanner) {\n            this.btop = 0;\n            if (lplatform.cparam.bannerOnBottom) {\n                this.btop = this.info.windowHeight - this.bh;\n            }\n            \n            this.centerBanner = this.env.createBannerAd({\n                adUnitId: lplatform.cparam.bannerID,\n                adIntervals: 30,\n                style: {\n                    width: this.bw,\n                    height: this.bh,\n                    left: 0,\n                    top: this.btop\n                }\n            });\n            \n            const self = this;\n            this.centerBanner.onLoad(() => {});\n            this.centerBanner.onError((err: any, msg: string) => {\n                lplatform.plog(\"centerBanner code:\" + JSON.stringify(err) + \" msg:\" + msg);\n            });\n            this.centerBanner.onResize((size: any) => {\n                self.centerBanner.style.left = 0;\n                self.centerBanner.style.top = self.info.windowHeight - size.height;\n            });\n        }\n        \n        this.centerBanner.show();\n    }\n\n    public hideCenterBanner(destroy: boolean = false): void {\n        if (this.centerBanner) {\n            this.centerBanner.hide();\n            if (destroy) {\n                this.centerBanner.offLoad(() => {});\n                this.centerBanner.offError(() => {});\n                this.centerBanner.offResize(() => {});\n                this.centerBanner.destroy();\n                this.centerBanner = null;\n            }\n        }\n    }\n\n    public loadInterstitial(autoShow: boolean): void {\n        this.hideInterstitial();\n        \n        this.insterstitialAd = this.env.createInterstitialAd({\n            adUnitId: lplatform.cparam.interstitialID\n        });\n        \n        this.insterstitialAd.onLoad(this.onInterstitialLoad.bind(this));\n        this.insterstitialAd.onError(this.onInterstitialError.bind(this));\n        this.insterstitialAd.onClose(this.onInterstitialClose.bind(this));\n        this.insterstitialAd.load();\n        \n        if (autoShow) {\n            this.showInterstitial();\n        }\n    }\n\n    public onInterstitialLoad(): void {\n        // Interstitial load callback\n    }\n\n    public onInterstitialError(err: any, msg: string): void {\n        lplatform.plog(\"onInterstitialError code:\" + err + \" msg:\" + msg);\n    }\n\n    public onInterstitialClose(): void {\n        this.loadInterstitial(false);\n    }\n\n    public showInterstitial(): void {\n        if (this.insterstitialAd) {\n            this.insterstitialAd.show();\n        } else {\n            this.loadInterstitial(true);\n        }\n    }\n\n    public hideInterstitial(): void {\n        if (this.insterstitialAd) {\n            this.insterstitialAd.offLoad(this.onInterstitialLoad);\n            this.insterstitialAd.offError(this.onInterstitialError);\n            this.insterstitialAd.offClose(this.onInterstitialClose);\n            this.insterstitialAd.destroy();\n        }\n    }\n\n    public createRewardedVideo(autoShow: boolean): void {\n        if (lplatform.cparam.rewardedVideoID) {\n            if (!this.rewardedVideoAd && typeof this.env.createRewardedVideoAd === \"function\") {\n                this.rewardedVideoAd = this.env.createRewardedVideoAd({\n                    adUnitId: lplatform.cparam.rewardedVideoID\n                });\n                \n                this.rewardedVideoAd.onError(this.onRewardedVideoError.bind(this));\n                this.rewardedVideoAd.onClose(this.onRewardedVideoClose.bind(this));\n                this.rewardedVideoAd.onLoad(this.onRewardedVideoLoad.bind(this));\n            }\n            \n            if (autoShow) {\n                this.showRewardedVideo(window['vcb']);\n            }\n        }\n    }\n\n    public loadRewardedVideo(autoShow: boolean): void {\n        this.createRewardedVideo(autoShow);\n        lplatform.plog(\"loadRewardedVideo this.rewardedVideoAd.load()\");\n        this.rewardedVideoAd.load();\n    }\n\n    public onRewardedVideoLoad(): void {\n        lplatform.plog(\"onRewardedVideoLoad this.rewardedVideoIAutoShow:\" + this.rewardedVideoIAutoShow);\n    }\n\n    public onRewardedVideoError(err: any, msg: string): void {\n        lplatform.plog(\"onRewardedVideoError code:\" + JSON.stringify(err) + \" msg:\" + msg);\n        cc.audioEngine.setMusicVolume(1);\n        cc.audioEngine.setEffectsVolume(1);\n        this.resetRewardedVideo();\n    }\n\n    public onRewardedVideoClose(res: any): void {\n        lplatform.plog(\"onRewardedVideoClose res.isEnded:\" + res.isEnded);\n        \n        if (res.isEnded) {\n            if (window['vcb']) {\n                window['vcb'](res.isEnded);\n            }\n            this.resetRewardedVideo(false, true);\n            this.loadRewardedVideo(false);\n        } else if (lplatform.labData.openSecondTipVideo) {\n            const self = this;\n            self.env.showModal({\n                title: \"继续吗\",\n                content: \"观看完视频才能获得奖励哦\",\n                success: (result: any) => {\n                    if (result.confirm) {\n                        self.showRewardedVideo(window['vcb']);\n                    } else if (result.cancel) {\n                        if (window['vcb']) {\n                            window['vcb'](res.isEnded);\n                        }\n                        this.resetRewardedVideo(false, true);\n                        this.loadRewardedVideo(false);\n                    }\n                }\n            });\n        } else {\n            if (window['vcb']) {\n                window['vcb'](res.isEnded);\n            }\n        }\n        \n        cc.audioEngine.setMusicVolume(1);\n        cc.audioEngine.setEffectsVolume(1);\n    }\n\n    public showRewardedVideo(callback?: Function): void {\n        if (callback) {\n            window['vcb'] = callback;\n        }\n        \n        if (this.rewardedVideoAd) {\n            this.showLoading();\n            \n            this.rewardedVideoLoadTimeout = setTimeout(() => {\n                lplatform.plog(\"rewardedVideoLoadTimeout 广告超时 timeMax:\" + this.rewardedVideoTimeMax);\n                clearTimeout(this.rewardedVideoLoadTimeout);\n                if (window['vcb']) {\n                    window['vcb'](false, \"广告超时\");\n                }\n                this.resetRewardedVideo(true, true);\n            }.bind(this), this.rewardedVideoTimeMax);\n            \n            lplatform.plog(\"showRewardedVideo this.rewardedVideoIsLoaded:\" + this.rewardedVideoIsLoaded);\n            \n            this.rewardedVideoAd.show().then(() => {\n                lplatform.plog(\"showRewardedVideo then \");\n                this.hideLoading();\n                clearTimeout(this.rewardedVideoLoadTimeout);\n            }).catch((err: any) => {\n                lplatform.plog(\"showRewardedVideo catch:\" + JSON.stringify(err));\n                this.hideLoading();\n                clearTimeout(this.rewardedVideoLoadTimeout);\n                \n                this.rewardedVideoAd.load().then(() => {\n                    this.rewardedVideoAd.show();\n                }).catch(() => {\n                    this.loadRewardedVideo(false);\n                });\n            });\n        } else {\n            this.createRewardedVideo(true);\n        }\n    }\n\n    public resetRewardedVideo(destroy: boolean = false, clearCallback: boolean = false): void {\n        if (this.rewardedVideoAd && destroy) {\n            this.rewardedVideoAd.offLoad(this.onRewardedVideoLoad);\n            this.rewardedVideoAd.offError(this.onRewardedVideoError);\n            this.rewardedVideoAd.offClose(this.onRewardedVideoClose);\n            this.rewardedVideoAd.destroy();\n            this.rewardedVideoAd = null;\n        }\n        \n        if (clearCallback) {\n            window['vcb'] = null;\n        }\n        \n        if (this.rewardedVideoLoadTimeout) {\n            clearTimeout(this.rewardedVideoLoadTimeout);\n        }\n        \n        this.hideLoading();\n    }\n\n    public shareAppMessage(): void {\n        this.env.shareAppMessage({\n            templateId: lplatform.cparam.shareID,\n            query: \"\",\n            success: () => {},\n            fail: (err: any) => {\n                lplatform.plog(\"分享失败:\" + err);\n            }\n        });\n    }\n\n    public canRecord(): boolean {\n        return !!this.gameRecorderManager;\n    }\n\n    public canShareRecord(): boolean {\n        return !!this.videoPath;\n    }\n\n    public startRecord(callback: Function): void {\n        lplatform.plog(\"startRecord\");\n        this.recordStartCb = callback;\n        this.videoPath = null;\n        \n        this.gameRecorderManager.start({\n            duration: 30\n        });\n        \n        this.gameRecorderManager.onStart(this.onGameRecordStart.bind(this));\n        this.gameRecorderManager.onError(this.onGameRecordError.bind(this));\n        this.gameRecorderManager.onStop(this.onGameRecordStop.bind(this));\n        \n        const self = this;\n        this.env.onShow(() => {\n            lplatform.plog(\"startRecord this.env.onShow\");\n            self.resumeRecord();\n        });\n        \n        this.env.onHide(() => {\n            lplatform.plog(\"startRecord this.env.onHide\");\n            self.pauseRecord();\n        });\n    }\n\n    public onGameRecordStart(): void {\n        this.gameRecordStartTime = Date.now();\n        if (this.recordStartCb) {\n            this.recordStartCb();\n            this.recordStartCb = null;\n        }\n    }\n\n    public onGameRecordError(err: any): void {\n        lplatform.plog(\"onGameRecordError:\" + err, \"error\");\n    }\n\n    public onGameRecordStop(res: any): void {\n        lplatform.plog(\"onGameRecordStop this.recordStopCb:\" + this.recordStopCb);\n        this.gameRecordStopTime = Date.now();\n        \n        if (this.gameRecordStopTime - this.gameRecordStartTime > 4500) {\n            this.videoPath = res.videoPath;\n        } else {\n            lplatform.plog(\"onGameRecordStop 实际录屏时间少于5秒就有可能分享失败\");\n            this.env.showToast({\n                title: \"录制时间太短，可能无法分享。\",\n                icon: \"none\",\n                duration: 1000,\n                mask: false,\n                success: () => {},\n                fail: (err: any) => {\n                    lplatform.plog(err);\n                }\n            });\n        }\n        \n        if (this.recordStopCb) {\n            this.recordStopCb(this.videoPath);\n            this.recordStopCb = null;\n        }\n    }\n\n    public pauseRecord(): void {\n        this.gameRecorderManager.pause();\n    }\n\n    public resumeRecord(): void {\n        this.gameRecorderManager.resume();\n    }\n\n    public stopRecord(callback: Function): void {\n        lplatform.plog(\"stopRecord cb:\" + callback);\n        this.recordStopCb = callback;\n        this.gameRecorderManager.stop();\n    }\n\n    public shareRecord(successCallback?: Function, failCallback?: Function): void {\n        if (this.videoPath) {\n            const self = this;\n            this.env.shareAppMessage({\n                channel: \"video\",\n                extra: {\n                    videoPath: this.videoPath,\n                    videoTopics: lplatform.cparam.videoTopics,\n                    hashtag_list: lplatform.cparam.videoTopics,\n                    createChallenge: true\n                },\n                success: () => {\n                    if (successCallback) {\n                        successCallback();\n                    }\n                },\n                fail: (err: any) => {\n                    let msg = null;\n                    const errStr = JSON.stringify(err);\n                    \n                    if (errStr.indexOf(\"cancel\") >= 0) {\n                        msg = \"您取消了本次分享\";\n                    } else if (errStr.indexOf(\"21105\") >= 0) {\n                        msg = \"视频太短，无法进行分享\";\n                    }\n                    \n                    if (msg) {\n                        self.env.showToast({\n                            title: msg,\n                            icon: \"none\",\n                            duration: 1000,\n                            mask: false,\n                            success: () => {},\n                            fail: (toastErr: any) => {\n                                lplatform.plog(toastErr);\n                            }\n                        });\n                    }\n                    \n                    if (failCallback) {\n                        failCallback();\n                    }\n                }\n            });\n        } else {\n            this.env.showToast({\n                title: \"暂无可分享的视频\",\n                icon: \"none\",\n                duration: 1000,\n                mask: false,\n                success: () => {},\n                fail: (err: any) => {\n                    lplatform.plog(err);\n                }\n            });\n            \n            if (failCallback) {\n                failCallback();\n            }\n        }\n    }\n\n    public resetRecord(): void {\n        this.stopRecord(null);\n        this.videoPath = null;\n    }\n\n    public shareInnerRecord(): void {\n        // Implementation for inner record sharing\n    }\n\n    public createMoreGameButton(): void {\n        this.moreGameBtn = this.env.createMoreGamesButton({\n            type: \"image\",\n            image: \"moreGame.png\",\n            actionType: \"box\",\n            style: {\n                left: lplatform.cparam.moreGameLeft * lplatform.systemInfo.windowWidth,\n                top: lplatform.cparam.moreGameTop * lplatform.systemInfo.windowHeight,\n                width: 49.5,\n                height: 39.9,\n                lineHeight: 1,\n                backgroundColor: \"#00000000\",\n                textColor: \"#ffffff\",\n                textAlign: \"center\",\n                fontSize: 16,\n                borderRadius: 1,\n                borderWidth: 0,\n                borderColor: \"#ff0000\"\n            },\n            appLaunchOptions: [],\n            onNavigateToMiniGame: (result: any) => {\n                lplatform.plog(\"跳转其他小游戏\", result);\n            }\n        });\n        \n        this.moreGameBtn.onTap(() => {\n            lplatform.plog(\"点击更多游戏\");\n        });\n    }\n\n    public showFavoriteGuide(): void {\n        this.env.showFavoriteGuide({\n            type: \"bar\",\n            content: \"一键加关注，从此不迷路!\",\n            position: \"bottom\",\n            success: () => {},\n            fail: (err: any) => {\n                lplatform.plog(\"showFavoriteGuide fail:\" + err);\n            }\n        });\n    }\n\n    public followAccount(): void {\n        if (typeof this.env.checkFollowState === \"function\") {\n            const self = this;\n            self.env.checkFollowState({\n                success: (result: any) => {\n                    if (result.errMsg) {\n                        lplatform.plog(\"checkFollowState success, but has errMsg:\" + result.errMsg);\n                    }\n                    \n                    if (!result.result && self.env.createFollowButton) {\n                        self.followBtn = self.env.createFollowButton({\n                            type: \"image\",\n                            image: \"follow_btn.png\",\n                            style: {\n                                left: lplatform.cparam.followBtnLeft * lplatform.systemInfo.windowWidth,\n                                top: lplatform.cparam.followBtnTop * lplatform.systemInfo.windowHeight,\n                                width: 49.5,\n                                height: 39.9,\n                                lineHeight: 40,\n                                backgroundColor: \"#ff0000\",\n                                textColor: \"#ffffff\",\n                                textAlign: \"center\",\n                                fontSize: 16,\n                                borderRadius: 4,\n                                borderWidth: 1,\n                                borderColor: \"#ff0000\"\n                            }\n                        });\n                    }\n                },\n                fail: (err: any) => {\n                    lplatform.plog(\"followAccount fail:\" + err);\n                }\n            });\n        } else if (typeof this.env.openAwemeUserProfile === \"function\") {\n            this.env.openAwemeUserProfile();\n        }\n    }\n\n    public goToGameOrGameList(): void {\n        this.env.showMoreGamesModal({\n            appLaunchOptions: [],\n            success: (result: any) => {\n                console.log(\"success\", result.errMsg);\n            },\n            fail: (err: any) => {\n                console.log(\"fail\", err.errMsg);\n            }\n        });\n    }\n\n    public openAwemeUserProfile(): void {\n        // Implementation for opening user profile\n    }\n\n    public createMoreGameBanner(): void {\n        if (lplatform.cparam.moreGameBannerAppId) {\n            const randomIndex = Math.floor(Math.random() * lplatform.cparam.moreGameBannerAppId.length);\n            const appId = lplatform.cparam.moreGameBannerAppId[randomIndex];\n            \n            if (!this.moreGameBanner) {\n                this.btop = 0;\n                if (lplatform.cparam.bannerOnBottom) {\n                    this.btop = this.info.windowHeight - 104;\n                }\n                \n                this.moreGameBanner = this.env.createMoreGamesBanner({\n                    style: {\n                        width: 300,\n                        height: 104,\n                        left: 0,\n                        top: this.btop\n                    },\n                    appLaunchOptions: [{\n                        appId: appId,\n                        query: \"foo=bar&baz=qux\",\n                        extraData: {}\n                    }]\n                });\n                \n                const eventCallback = (event: any, data: any) => {\n                    lplatform.plog(\"监听事件:\" + JSON.stringify(event) + \" \" + JSON.stringify(data));\n                };\n                \n                this.moreGameBanner.onResize(function(this: any, size: any) {\n                    this.moreGameBanner.style.top = this.info.windowHeight - 104;\n                    this.moreGameBanner.style.left = (this.info.windowWidth - 300) / 2;\n                    lplatform.plog(\"moreGameBanner size.width:\" + size.width + \" size.height:\" + size.height + \" lplatform.cparam.bannerOnBottom:\" + lplatform.cparam.bannerOnBottom);\n                }.bind(this));\n                \n                this.moreGameBanner.onTap(eventCallback);\n                this.moreGameBanner.onError(eventCallback);\n            }\n            \n            this.moreGameBanner.show();\n            \n            if (lplatform.cparam.moreGameBannerAutoCloseTime > 0) {\n                setTimeout(function(this: any) {\n                    this.moreGameBanner.hide();\n                }.bind(this), lplatform.cparam.moreGameBannerAutoCloseTime);\n            }\n        }\n    }\n\n    public createMoreGamePortal(): void {\n        if (this.info.platform !== \"ios\") {\n            tt.showMoreGamesModal({\n                appLaunchOptions: [{\n                    appId: \"ttXXXXXX\",\n                    query: \"foo=bar&baz=qux\",\n                    extraData: {}\n                }],\n                success: (result: any) => {\n                    console.log(\"success\", result.errMsg);\n                },\n                fail: (err: any) => {\n                    console.log(\"fail\", err.errMsg);\n                }\n            });\n        } else {\n            tt.showToast({\n                title: \" iOS不支持此功能\"\n            });\n        }\n    }\n\n    public analytics(eventName: string, data: any): void {\n        if (typeof this.env.reportAnalytics === \"function\") {\n            this.env.reportAnalytics(eventName, data);\n        }\n    }\n\n    public showLoading(title?: string): void {\n        this.hideLoading();\n        \n        if (typeof this.env.showLoading === \"function\") {\n            this.env.showLoading({\n                title: title || \"处理中，请稍候...\",\n                success: () => {},\n                fail: (err: any) => {\n                    lplatform.plog(\"showLoading调用失败:\" + err);\n                }\n            });\n        }\n    }\n\n    public hideLoading(): void {\n        const self = this;\n        if (typeof this.env.hideLoading === \"function\") {\n            this.env.hideLoading({\n                success: () => {},\n                fail: (err: any) => {\n                    lplatform.plog(\"hideLoading调用失败:\" + err);\n                    setTimeout(() => {\n                        self.env.hideLoading({\n                            success: () => {},\n                            fail: (retryErr: any) => {\n                                lplatform.plog(\"hideLoading二次调用失败:\" + retryErr);\n                            }\n                        });\n                    }, 1000);\n                }\n            });\n        }\n    }\n\n    public createGameClub(): void {\n        // Implementation for game club\n    }\n\n    public navigateToMiniProgram(): void {\n        // Implementation for navigation to mini program\n    }\n\n    public shareMessageToFriend(): void {\n        // Implementation for sharing message to friend\n    }\n\n    public sendMsgToOpenDataProject(): void {\n        // Implementation for sending message to open data project\n    }\n\n    public makeShareUI(successCallback: Function, failCallback: Function, type: any, delay: number = 0, autoClose: boolean = false): void {\n        lplatform.uiEngine.CreateShareK(() => {\n            this.shareRecord(successCallback, failCallback);\n        }, () => {\n            if (failCallback) {\n                failCallback();\n            }\n        }, type, delay, autoClose);\n    }\n\n    public httpRequest(url: string, callback: Function, timeout: number, method?: string, data?: any): void {\n        const xhr = new XMLHttpRequest();\n        xhr.timeout = timeout;\n        \n        xhr.onreadystatechange = () => {\n            if (xhr.readyState === 4) {\n                if (xhr.status >= 200 && xhr.status < 400) {\n                    callback(null, xhr.response, xhr.responseText);\n                } else {\n                    callback(xhr.status, null, null);\n                }\n            }\n        };\n        \n        xhr.open(method || \"GET\", url, true);\n        xhr.send(data);\n    }\n\n    public recordSceneValue(sceneValue: string): void {\n        if (lplatform.labData.recordSceneValue) {\n            this.env.request({\n                data: {\n                    sceneValue: sceneValue\n                },\n                header: {\n                    \"content-type\": \"application/json\"\n                },\n                success: () => {},\n                fail: () => {}\n            });\n        }\n    }\n}"]}