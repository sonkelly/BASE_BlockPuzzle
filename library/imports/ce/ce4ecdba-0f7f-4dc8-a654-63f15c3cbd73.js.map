{"version":3,"sources":["assets/Scripts/LayaEngine.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class LayaEngine {\n    private mAutoCloseTimeout: number = 0;\n    private autoCloseInterval: any = null;\n    private hideShareClose: number = 0;\n    private videoAd: any = null;\n    private bannerAd: any = null;\n    private yuanshengIndex: number = 0;\n    private yuanshengADK: any = null;\n    private yuanshengADBanner: any = null;\n\n    public closeToYou(): void {\n        if (this.yuanshengADK) {\n            this.yuanshengADK.destroy();\n        }\n        if (this.yuanshengADBanner) {\n            this.yuanshengADBanner.destroy();\n        }\n    }\n\n    public createChaping(data: any, closeCallback?: Function, clickCallback?: Function): cc.Node {\n        const imgUrl = data.imgUrlList && data.imgUrlList[0] ? data.imgUrlList[0] : \n                      data.iconUrlList && data.iconUrlList[0] ? data.iconUrlList[0] : null;\n        const source = data.source;\n        const title = data.title;\n\n        const container = new cc.Node();\n        container.setPosition(0, 0);\n        container.zIndex = 10000;\n        cc.director.getScene().addChild(container);\n\n        // Background\n        const bg = new cc.Node();\n        bg.setContentSize(cc.winSize.width + 20, cc.winSize.height + 20);\n        bg.setPosition(cc.winSize.width / 2, cc.winSize.height / 2);\n        const bgSprite = bg.addComponent(cc.Sprite);\n        bgSprite.spriteFrame = this.getSpriteFrame(\"res/ysguanggao/native_2.png\");\n        bg.opacity = 178; // 0.7 * 255\n        container.addChild(bg);\n\n        // Main image\n        const mainImg = new cc.Node();\n        mainImg.setPosition(cc.winSize.width / 2, cc.winSize.height / 2);\n        const mainSprite = mainImg.addComponent(cc.Sprite);\n        mainSprite.spriteFrame = this.getSpriteFrame(imgUrl);\n        \n        const scale = (cc.winSize.width - 50) / 360;\n        mainImg.setScale(scale, scale);\n        mainImg.setContentSize(360, 240);\n        container.addChild(mainImg);\n\n        const clickHandler = () => {\n            if (clickCallback) clickCallback();\n            container.destroy();\n            console.log(\"ad click\");\n        };\n\n        mainImg.on(cc.Node.EventType.TOUCH_END, clickHandler);\n\n        // Decoration image\n        const decoImg = new cc.Node();\n        decoImg.setPosition(cc.winSize.width / 2 + 150 * scale, cc.winSize.height / 2 + 110 * scale);\n        const decoSprite = decoImg.addComponent(cc.Sprite);\n        decoSprite.spriteFrame = this.getSpriteFrame(\"res/ysguanggao/native_1.png\");\n        decoImg.setAnchorPoint(1, 1);\n        container.addChild(decoImg);\n\n        // Close button\n        const closeBtn = new cc.Node();\n        const closeBtnScale = (window as any).lplatform?.cparam?.closeBtnScale || 1;\n        if ((window as any).lplatform?.cparam?.closeBtnScale < 1) {\n            closeBtn.setPosition(cc.winSize.width / 2 + 170 * scale, cc.winSize.height / 2 - 110 * scale);\n        } else {\n            closeBtn.setPosition(cc.winSize.width / 2 + 170 * scale, cc.winSize.height / 2 - 140 * scale);\n        }\n        closeBtn.setScale(closeBtnScale, closeBtnScale);\n        closeBtn.setContentSize(58, 58);\n        const closeSprite = closeBtn.addComponent(cc.Sprite);\n        closeSprite.spriteFrame = this.getSpriteFrame(\"res/ysguanggao/native_3.png\");\n        container.addChild(closeBtn);\n\n        closeBtn.on(cc.Node.EventType.TOUCH_END, () => {\n            console.log(\"ad close\");\n            if (closeCallback) closeCallback();\n            container.destroy();\n        });\n\n        // Action button background\n        const btnBgPath = data.clickBtnTxt.indexOf(\"下载\") >= 0 ? \n                         \"res/ysguanggao/xiazaibg.png\" : \"res/ysguanggao/dakaibg.png\";\n        const actionBtn = new cc.Node();\n        actionBtn.setPosition(cc.winSize.width / 2, cc.winSize.height / 2 + 140 * scale);\n        const actionSprite = actionBtn.addComponent(cc.Sprite);\n        actionSprite.spriteFrame = this.getSpriteFrame(btnBgPath);\n        actionBtn.on(cc.Node.EventType.TOUCH_END, clickHandler);\n        container.addChild(actionBtn);\n\n        // Source label\n        if (source) {\n            const sourceLabel = new cc.Node();\n            sourceLabel.setPosition(cc.winSize.width / 2 - 110 * scale, cc.winSize.height / 2 + 110 * scale);\n            const sourceLabelComp = sourceLabel.addComponent(cc.Label);\n            sourceLabelComp.string = source;\n            sourceLabelComp.fontSize = 30;\n            container.addChild(sourceLabel);\n        }\n\n        // Title label\n        if (title) {\n            const titleLabel = new cc.Node();\n            titleLabel.setPosition(cc.winSize.width / 2, cc.winSize.height / 2 - 130 * scale);\n            const titleLabelComp = titleLabel.addComponent(cc.Label);\n            titleLabelComp.string = title;\n            titleLabelComp.fontSize = 30;\n            container.addChild(titleLabel);\n        }\n\n        // Fade in animation\n        container.opacity = 0;\n        cc.tween(container)\n            .to(0.5, { opacity: 255 }, { easing: 'backOut' })\n            .start();\n\n        return container;\n    }\n\n    public createBanner(data: any, closeCallback?: Function, clickCallback?: Function): cc.Node {\n        const imgUrl = data.imgUrlList[0];\n        const source = data.source;\n        const title = data.title;\n\n        const container = new cc.Node();\n        container.setContentSize(0, 0);\n        container.zIndex = 10000;\n        cc.director.getScene().addChild(container);\n\n        // Main image\n        const mainImg = new cc.Node();\n        mainImg.setContentSize(cc.winSize.width - 20, 240);\n        mainImg.setPosition(10 + mainImg.width / 2, mainImg.height / 2);\n        const mainSprite = mainImg.addComponent(cc.Sprite);\n        mainSprite.spriteFrame = this.getSpriteFrame(imgUrl);\n        container.addChild(mainImg);\n\n        const clickHandler = () => {\n            console.log(\"ad click\");\n            if (clickCallback) clickCallback();\n            container.destroy();\n        };\n\n        mainImg.on(cc.Node.EventType.TOUCH_END, clickHandler);\n\n        // Decoration image\n        const decoImg = new cc.Node();\n        decoImg.setContentSize(83, 31);\n        decoImg.setPosition(mainImg.width - decoImg.width / 2, decoImg.height / 2);\n        const decoSprite = decoImg.addComponent(cc.Sprite);\n        decoSprite.spriteFrame = this.getSpriteFrame(\"res/ysguanggao/native_1.png\");\n        mainImg.addChild(decoImg);\n\n        // Close button\n        const closeBtn = new cc.Node();\n        const closeBtnScale = (window as any).lplatform?.cparam?.closeBtnScale || 1;\n        closeBtn.setContentSize(38, 38);\n        closeBtn.setPosition(mainImg.width - closeBtn.width / 2 - 5, mainImg.height - closeBtn.height / 2 - 5);\n        closeBtn.setScale(closeBtnScale, closeBtnScale);\n        const closeSprite = closeBtn.addComponent(cc.Sprite);\n        closeSprite.spriteFrame = this.getSpriteFrame(\"res/ysguanggao/native_3.png\");\n        mainImg.addChild(closeBtn);\n\n        closeBtn.on(cc.Node.EventType.TOUCH_END, () => {\n            console.log(\"ad close\");\n            if (closeCallback) closeCallback();\n            container.destroy();\n        });\n\n        // Action button\n        const btnBgPath = data.clickBtnTxt.indexOf(\"下载\") >= 0 ? \n                         \"res/ysguanggao/xiazaibg.png\" : \"res/ysguanggao/dakaibg.png\";\n        const actionBtn = new cc.Node();\n        actionBtn.setContentSize(200, 70);\n        actionBtn.setPosition(mainImg.width / 2, -actionBtn.height / 2 - 20);\n        const actionSprite = actionBtn.addComponent(cc.Sprite);\n        actionSprite.spriteFrame = this.getSpriteFrame(btnBgPath);\n        actionBtn.on(cc.Node.EventType.TOUCH_END, clickHandler);\n        mainImg.addChild(actionBtn);\n\n        // Source label\n        if (source) {\n            const sourceLabel = new cc.Node();\n            const sourceLabelComp = sourceLabel.addComponent(cc.Label);\n            sourceLabelComp.string = source;\n            sourceLabelComp.fontSize = 25;\n            sourceLabel.setPosition(sourceLabel.width / 2, sourceLabel.height / 2);\n            mainImg.addChild(sourceLabel);\n        }\n\n        // Title label\n        if (title) {\n            const titleLabel = new cc.Node();\n            const titleLabelComp = titleLabel.addComponent(cc.Label);\n            titleLabelComp.string = title;\n            titleLabelComp.fontSize = 25;\n            titleLabel.setPosition(mainImg.width / 2, mainImg.height - titleLabel.height / 2);\n            mainImg.addChild(titleLabel);\n        }\n\n        // Fade in animation\n        container.opacity = 0;\n        cc.tween(container)\n            .to(0.5, { opacity: 255 }, { easing: 'backOut' })\n            .start();\n\n        return container;\n    }\n\n    public CreateShareK(\n        confirmCallback?: Function, \n        closeCallback?: Function, \n        autoCloseTime?: number, \n        hideCloseBtn?: number,\n        showAd?: boolean\n    ): cc.Node {\n        if (autoCloseTime === undefined) autoCloseTime = 0;\n        if (showAd === undefined) showAd = false;\n\n        const container = new cc.Node();\n        container.setPosition(0, 0);\n        container.zIndex = 10000;\n        cc.director.getScene().addChild(container);\n\n        // Background mask\n        const mask = new cc.Node();\n        mask.setContentSize(cc.winSize.width + 20, cc.winSize.height + 20);\n        mask.setPosition(cc.winSize.width / 2, cc.winSize.height / 2);\n        const maskSprite = mask.addComponent(cc.Sprite);\n        maskSprite.spriteFrame = this.getSpriteFrame(\"fenxiang/mask.png\");\n        mask.opacity = 102; // 0.4 * 255\n        container.addChild(mask);\n\n        mask.on(cc.Node.EventType.TOUCH_END, () => {});\n\n        // Share image\n        const shareImg = new cc.Node();\n        shareImg.setPosition(cc.winSize.width / 2, cc.winSize.height / 2);\n        const shareSprite = shareImg.addComponent(cc.Sprite);\n        shareSprite.spriteFrame = this.getSpriteFrame(\"fenxiang/share.png\");\n        container.addChild(shareImg);\n\n        // Confirm button\n        const confirmBtn = new cc.Node();\n        confirmBtn.setPosition(cc.winSize.width / 2, cc.winSize.height / 2 - 270);\n        const confirmSprite = confirmBtn.addComponent(cc.Sprite);\n        confirmSprite.spriteFrame = this.getSpriteFrame(\"fenxiang/queding.png\");\n        container.addChild(confirmBtn);\n\n        confirmBtn.on(cc.Node.EventType.TOUCH_END, () => {\n            if (confirmCallback) confirmCallback();\n            container.destroy();\n        });\n\n        // Close button\n        const closeBtn = new cc.Node();\n        const info = cc.view;\n        if (info.getCanvasSize().width > info.getCanvasSize().height) {\n            closeBtn.setPosition(cc.winSize.width / 2 - 310, cc.winSize.height / 2 + 195);\n        } else {\n            closeBtn.setPosition(cc.winSize.width / 2 - 195, cc.winSize.height / 2 + 310);\n        }\n        const closeSprite = closeBtn.addComponent(cc.Sprite);\n        closeSprite.spriteFrame = this.getSpriteFrame(\"fenxiang/close.png\");\n        container.addChild(closeBtn);\n\n        closeBtn.on(cc.Node.EventType.TOUCH_END, () => {\n            console.log(\"closeBtn click\");\n            if (closeCallback) closeCallback();\n            if (this.autoCloseInterval) {\n                clearInterval(this.autoCloseInterval);\n            }\n            container.destroy();\n        });\n\n        // Hide close button logic\n        const random = Math.random();\n        const lplatform = (window as any).lplatform;\n        if (lplatform?.cparam?.hideShareClose && random <= lplatform.cparam.hideShareClose) {\n            closeBtn.active = false;\n        } else {\n            closeBtn.setScale(0, 0);\n            cc.tween(closeBtn)\n                .delay(1)\n                .to(0.3, { scaleX: 1, scaleY: 1 }, { easing: 'backOut' })\n                .start();\n        }\n\n        // Fade in animation\n        container.opacity = 0;\n        cc.tween(container)\n            .to(0.5, { opacity: 255 }, { easing: 'backOut' })\n            .start();\n\n        // Ad banner logic\n        if (showAd && lplatform?.systemInfo?.platform !== \"ios\") {\n            this.createAdBanner(container);\n        }\n\n        return container;\n    }\n\n    public getCanvas(): HTMLCanvasElement {\n        return cc.game.canvas;\n    }\n\n    private getSpriteFrame(path: string): cc.SpriteFrame {\n        // Implementation depends on your resource loading mechanism\n        // This is a placeholder - replace with your actual resource loading logic\n        return null;\n    }\n\n    private createAdBanner(parent: cc.Node): void {\n        const adIndex = Math.floor(4 * Math.random());\n        const adImg = new cc.Node();\n        adImg.setPosition(0, 0);\n        const adSprite = adImg.addComponent(cc.Sprite);\n        adSprite.spriteFrame = this.getSpriteFrame(`fenxiang/adlist${adIndex}.png`);\n        parent.addChild(adImg);\n\n        adImg.on(cc.Node.EventType.TOUCH_END, () => {\n            (window as any).lplatform?.goToGameOrGameList(null);\n        });\n\n        this.startAdAnimation(adImg);\n    }\n\n    private startAdAnimation(node: cc.Node): void {\n        const moveLeft = () => {\n            cc.tween(node)\n                .to(3, { x: cc.winSize.width - 1000 })\n                .call(() => moveRight())\n                .start();\n        };\n\n        const moveRight = () => {\n            cc.tween(node)\n                .to(3, { x: 0 })\n                .call(() => moveLeft())\n                .start();\n        };\n\n        moveLeft();\n    }\n}"]}