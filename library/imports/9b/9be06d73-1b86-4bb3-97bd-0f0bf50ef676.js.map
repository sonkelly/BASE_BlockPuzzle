{"version":3,"sources":["assets/Scripts/SkinPanel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAA6C;AAEvC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAuC,6BAAY;IAAnD;QAAA,qEAoDC;QAlDG,iBAAW,GAAY,IAAI,CAAC;QAG5B,oBAAc,GAAc,IAAI,CAAC;QAGjC,aAAO,GAAmB,IAAI,CAAC;QAG/B,aAAO,GAAmB,IAAI,CAAC;QAG/B,aAAO,GAAmB,IAAI,CAAC;QAG/B,aAAO,GAAmB,IAAI,CAAC;QAG/B,aAAO,GAAmB,IAAI,CAAC;QAEvB,cAAQ,GAAc,EAAE,CAAC;;IA8BrC,CAAC;IA5BG,yBAAK,GAAL;QACI,wBAAa,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAC/E,CAAC;IAED,4BAAQ,GAAR;QACI,IAAM,UAAU,GAAG,MAAM,CAAC,WAAW,CAAC;QACtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,IAAM,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YACjD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;YAC/B,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,WAAS,CAAG,CAAC,CAAC,CAAC;YAC/E,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC5B;IACL,CAAC;IAED,8BAAU,GAAV;QACI,IAAM,UAAU,GAAG,MAAM,CAAC,WAAW,CAAC;QACtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,WAAS,CAAG,CAAC,CAAC,CAAC;SAC9F;IACL,CAAC;IAED,6BAAS,GAAT;QACI,wBAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;IAC/D,CAAC;IAED,2BAAO,GAAP;QACI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IAC7B,CAAC;IAjDD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;kDACU;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;qDACa;IAGjC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;8CACM;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;8CACM;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;8CACM;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;8CACM;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;8CACM;IApBd,SAAS;QAD7B,OAAO;OACa,SAAS,CAoD7B;IAAD,gBAAC;CApDD,AAoDC,CApDsC,EAAE,CAAC,SAAS,GAoDlD;kBApDoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["import EventListener from \"./event_listener\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class SkinPanel extends cc.Component {\n    @property(cc.Node)\n    m_n_content: cc.Node = null;\n\n    @property(cc.Prefab)\n    m_pre_skinitem: cc.Prefab = null;\n\n    @property(cc.SpriteFrame)\n    m_star0: cc.SpriteFrame = null;\n\n    @property(cc.SpriteFrame)\n    m_star1: cc.SpriteFrame = null;\n\n    @property(cc.SpriteFrame)\n    m_star2: cc.SpriteFrame = null;\n\n    @property(cc.SpriteFrame)\n    m_star3: cc.SpriteFrame = null;\n\n    @property(cc.SpriteFrame)\n    m_star4: cc.SpriteFrame = null;\n\n    private m_n_list: cc.Node[] = [];\n\n    start(): void {\n        EventListener.instance.on(window.GAME_SAVE_HANDLER, this.updateData, this);\n    }\n\n    initData(): void {\n        const skinConfig = window.SKIN_CONFIG;\n        for (let i = 0; i < skinConfig.length; i++) {\n            const item = cc.instantiate(this.m_pre_skinitem);\n            item.parent = this.m_n_content;\n            item.getComponent(\"SkinItem\").updateData(i, skinConfig[i], this[`m_star${i}`]);\n            this.m_n_list.push(item);\n        }\n    }\n\n    updateData(): void {\n        const skinConfig = window.SKIN_CONFIG;\n        for (let i = 0; i < skinConfig.length; i++) {\n            this.m_n_list[i].getComponent(\"SkinItem\").updateData(i, skinConfig[i], this[`m_star${i}`]);\n        }\n    }\n\n    onDestroy(): void {\n        EventListener.instance.off(window.GAME_SAVE_HANDLER, this);\n    }\n\n    onClose(): void {\n        this.node.active = false;\n    }\n}"]}