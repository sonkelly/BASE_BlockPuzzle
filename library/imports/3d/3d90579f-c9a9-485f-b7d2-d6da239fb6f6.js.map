{"version":3,"sources":["assets/Scripts/ShareSdk.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass('ShareSdk')\nexport class ShareSdk {\n    private static readonly isWeChatGame: boolean = cc.sys.platform === cc.sys.WECHAT_GAME;\n\n    public static setShareMenuEnabled(enable: boolean, withShareTicket?: boolean): void {\n        if (!ShareSdk.isWeChatGame) return;\n        \n        const shareTicket = !!withShareTicket;\n        if (enable) {\n            wx.showShareMenu({\n                withShareTicket: shareTicket\n            });\n        } else {\n            wx.hideShareMenu({});\n        }\n    }\n\n    public static onShareAppMessage(callback: any): void {\n        if (ShareSdk.isWeChatGame) {\n            wx.onShareAppMessage(callback);\n        }\n    }\n\n    public static shareAppMessage(shareData: any): void {\n        if (!ShareSdk.isWeChatGame) return;\n        \n        if (typeof shareData !== 'object') {\n            console.log(\"param 'object' is not a js object\");\n            return;\n        }\n        \n        if (shareData.title === undefined) {\n            console.log(\"param 'object' property title is undefined!\");\n            return;\n        }\n        \n        wx.shareAppMessage(shareData);\n    }\n\n    public static openReliveView(prefab: cc.Prefab, data: any, parent?: cc.Node): void {\n        const node = cc.instantiate(prefab);\n        \n        if (parent && cc.isValid(parent)) {\n            node.parent = parent;\n        } else {\n            const canvas = cc.find(\"Canvas\");\n            node.parent = canvas;\n        }\n        \n        const reliveViewCtrl = node.getComponent(\"ReliveViewCtrl\");\n        if (reliveViewCtrl) {\n            reliveViewCtrl.setCallBackObj(data);\n            \n            if (data.cost_num) {\n                reliveViewCtrl.setCostNumLabel(data.cost_num);\n            }\n            \n            reliveViewCtrl.setScoreLabel(data.score);\n            reliveViewCtrl.ShowView(true);\n        }\n    }\n\n    public static shareScoreMessage(score: number, title?: string, imageUrl?: string): void {\n        if (!ShareSdk.isWeChatGame) return;\n        \n        const shareTitle = title || `本局得了${score}分，没有办法，我就是这么强大！`;\n        wx.shareAppMessage({\n            title: shareTitle,\n            imageUrl: cc.url.raw(imageUrl)\n        });\n    }\n\n    public static addRqCodeView(prefab: cc.Prefab, parent?: cc.Node, posX?: number, posY?: number): void {\n        const x = posX || 0;\n        const y = posY || 0;\n        const node = cc.instantiate(prefab);\n        \n        if (parent && cc.isValid(parent)) {\n            node.parent = parent;\n        } else {\n            const canvas = cc.find(\"Canvas\");\n            node.parent = canvas;\n        }\n        \n        node.setPosition(x, y);\n    }\n\n    public static showFriendRankView(): void {\n        // Implementation for friend rank view\n    }\n\n    public static showGroupRankView(): void {\n        // Implementation for group rank view\n    }\n}"]}