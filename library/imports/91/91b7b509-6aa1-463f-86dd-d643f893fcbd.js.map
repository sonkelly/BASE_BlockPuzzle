{"version":3,"sources":["assets/Scripts/GameScene.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAC5C,uCAA2D;AAC3D,+CAAuD;AACvD,+CAA0C;AAC1C,mCAA8B;AAC9B,iCAA4B;AAC5B,uCAAsC;AAEtC;IAAuC,6BAAY;IAAnD;QAAA,qEAuQC;QArQG,aAAO,GAAY,IAAI,CAAC;QAGxB,UAAI,GAAY,IAAI,CAAC;QAGrB,aAAO,GAAY,IAAI,CAAC;QAGxB,gBAAU,GAAc,IAAI,CAAC;QAG7B,oBAAc,GAAc,IAAI,CAAC;QAGjC,wBAAkB,GAAc,IAAI,CAAC;QAGrC,cAAQ,GAAkC,EAAE,CAAC;QAM7C,aAAO,GAAqB,EAAE,CAAC;QAM/B,aAAO,GAAY,IAAI,CAAC;QAMxB,gBAAU,GAAY,IAAI,CAAC;QAEnB,gBAAU,GAAQ,IAAI,CAAC;QACvB,iBAAW,GAAQ,IAAI,CAAC;QACxB,YAAM,GAAW,CAAC,CAAC;QACnB,gBAAU,GAAY,IAAI,CAAC;QAC3B,eAAS,GAAY,KAAK,CAAC;;IA2NvC,CAAC;IAzNG,0BAAM,GAAN;QACI,mBAAQ,CAAC,KAAK,EAAE,CAAC;QACjB,mBAAQ,CAAC,YAAY,GAAG,IAAI,CAAC;QAC7B,sBAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,sBAAO,CAAC,KAAK,CAAC,CAAC;QAE/C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;QAC1D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;QACzD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QACpD,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED,6BAAS,GAAT;QACI,mBAAQ,CAAC,YAAY,GAAG,IAAI,CAAC;IACjC,CAAC;IAED,mCAAe,GAAf;QACI,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QAEvB,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,GAAG,mBAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC;YACnE,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,GAAG,mBAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC;YAC9D,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,mBAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;SAC/F;QAED,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,GAAG,mBAAQ,CAAC,WAAW,GAAG,CAAC,CAAC;YACzE,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,GAAG,mBAAQ,CAAC,WAAW,GAAG,CAAC,CAAC;YACpE,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,mBAAQ,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;SACrG;QAED,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,mBAAQ,CAAC,WAAW,EAAE,mBAAQ,CAAC,QAAQ,CAAC,CAAC;IACjE,CAAC;IAED,yBAAK,GAAL;QACI,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED,0BAAM,GAAN,UAAO,EAAU;QACb,IAAI,CAAC,mBAAQ,CAAC,OAAO,EAAE;YACnB,mBAAQ,CAAC,gBAAgB,IAAI,EAAE,CAAC;YAChC,IAAI,mBAAQ,CAAC,gBAAgB,GAAG,CAAC,EAAE;gBAC/B,IAAI,CAAC,YAAY,EAAE,CAAC;aACvB;SACJ;IACL,CAAC;IAED,+BAAW,GAAX;QACI,sBAAY,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;QAEvC,IAAI,mBAAQ,IAAI,eAAI,CAAC,KAAK,IAAI,mBAAQ,CAAC,UAAU,IAAI,CAAC,EAAE;YACpD,mBAAQ,CAAC,UAAU,GAAG,CAAC,CAAC;YACxB,mBAAQ,CAAC,QAAQ,EAAE,CAAC;SACvB;QAED,mBAAQ,CAAC,SAAS,GAAG,EAAE,CAAC;QACxB,mBAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC;QACtB,mBAAQ,CAAC,WAAW,EAAE,CAAC;QACvB,gBAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IAC7B,CAAC;IAED,gCAAY,GAAZ;QACI,gBAAM,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC/C,CAAC;IAED,+BAAW,GAAX,UAAY,KAA0B;QAAtC,iBAgBC;QAfG,IAAI,IAAI,CAAC,SAAS;YAAE,OAAO;QAE3B,IAAI,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE;YACvB,IAAI,mBAAQ,CAAC,QAAQ,GAAG,CAAC,EAAE;gBACvB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC;gBAC/B,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;aACrB;iBAAM;gBACH,sBAAY,CAAC,QAAQ,CAAC,iBAAiB,CAAC;oBACpC,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC;oBAC/B,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBACtB,CAAC,CAAC,CAAC;aACN;SACJ;aAAM;YACH,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;SACrB;IACL,CAAC;IAED,kCAAc,GAAd,UAAe,KAA0B;QAAzC,iBAgBC;QAfG,IAAI,IAAI,CAAC,SAAS;YAAE,OAAO;QAE3B,IAAI,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE;YACvB,IAAI,mBAAQ,CAAC,WAAW,GAAG,CAAC,EAAE;gBAC1B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC;gBAC/B,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;aACrB;iBAAM;gBACH,sBAAY,CAAC,QAAQ,CAAC,iBAAiB,CAAC;oBACpC,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC;oBAC/B,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBACtB,CAAC,CAAC,CAAC;aACN;SACJ;aAAM;YACH,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;SACrB;IACL,CAAC;IAED,6BAAS,GAAT,UAAU,IAAY;QAClB,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAEnB,EAAE,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC;QAC1D,EAAE,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC;QAE7D,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;YAClB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;SAClD;aAAM,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;YACzB,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;SACrD;aAAM;YACH,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;YAC/C,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;SACrD;IACL,CAAC;IAED,6BAAS,GAAT;QACI,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,4BAAQ,GAAR,UAAS,KAAa,EAAE,KAAa;QAArC,iBAsBC;QArBG,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC;YAAE,OAAO;QAEnC,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,KAAK,EAAE,QAAQ,GAAG,KAAK,CAAC,CAAC;QAEhD,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI,EAAE,IAAI,KAAK,IAAI,EAAE,IAAI,KAAK,IAAI,EAAE,IAAI,KAAK,IAAI,EAAE,IAAI,KAAK,IAAI,CAAC,EAAE;YACtF,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;QAED,IAAI,KAAK,GAAG,CAAC,EAAE;YACX,IAAI,CAAC,cAAc,CAAC;gBAChB,IAAI,KAAK,GAAG,CAAC,EAAE;oBACX,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;iBACzB;YACL,CAAC,CAAC,CAAC;SACN;aAAM;YACH,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,UAAC,CAAS;gBACnC,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,GAAG,CAAC,EAAE;oBACrB,KAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBAC5B;YACL,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,6BAAS,GAAT,UAAU,GAAW,EAAE,IAAa,EAAE,QAAmB;QACrD,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QACxB,IAAI,GAAG,GAAG,CAAC;YAAE,OAAO;QAEpB,IAAI,GAAG,GAAG,CAAC,EAAE;YACT,GAAG,GAAG,CAAC,CAAC;SACX;QAED,IAAI,CAAC,cAAc,EAAE,CAAC;QAEtB,IAAM,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;QAC7C,IAAI,CAAC,EAAE;YACH,IAAM,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,GAAG,GAAG,MAAM,EAAE,CAAC,CAAC,CAAC;YACnC,IAAM,CAAC,GAAG,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAC5B,CAAC,CAAC,IAAI,GAAG,WAAW,CAAC;YACrB,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;YACb,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;YAChB,eAAK,CAAC,qBAAqB,CAAC,CAAC,EAAE,eAAe,GAAG,GAAG,EAAE;gBAClD,IAAI,QAAQ,EAAE;oBACV,QAAQ,CAAC,IAAI,CAAC,CAAC;iBAClB;YACL,CAAC,CAAC,CAAC;SACN;QAED,IAAM,aAAa,GAAG,UAAC,IAAiC,EAAE,QAAgB;YACtE,eAAK,CAAC,WAAW,CAAC,IAAI,EAAE,gBAAgB,EAAE;gBACtC,eAAK,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC;QAEF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACxB,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,aAAa,IAAI,gBAAgB,EAAE;gBACpD,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;aACnE;SACJ;IACL,CAAC;IAED,kCAAc,GAAd,UAAe,QAAmB;QAC9B,IAAM,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACnC,IAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACd,IAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAEd,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;aACN,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,EAAE;aAChB,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC;aACrE,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC;aACrE,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,wBAAa,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC;aACtE,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC;aACrE,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC;aACrE,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC;aACrE,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,wBAAa,CAAC,EAAE,CAAC;aACtE,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,wBAAa,CAAC,EAAE,CAAC;aACtE,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAa,CAAC,EAAE,CAAC;aACrE,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAC7B;aACA,IAAI,CAAC;YACF,IAAI,QAAQ,EAAE;gBACV,QAAQ,EAAE,CAAC;aACd;QACL,CAAC,CAAC;aACD,KAAK,EAAE,CAAC;IACjB,CAAC;IAED,yBAAK,GAAL,UAAM,CAAS,EAAE,CAAS;QACtB,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxB,CAAC;IAED,+BAAW,GAAX;QACI,IAAM,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC;QACxE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChC,CAAC;IApQD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CACM;IAGxB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;2CACG;IAGrB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CACM;IAGxB;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;iDACS;IAG7B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;qDACa;IAGjC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;yDACiB;IAGrC;QADC,QAAQ,CAAC,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;+CACK;IAM7C;QAJC,QAAQ,CAAC;YACN,IAAI,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC;YACtB,OAAO,EAAE,SAAS;SACrB,CAAC;8CAC6B;IAM/B;QAJC,QAAQ,CAAC;YACN,IAAI,EAAE,EAAE,CAAC,IAAI;YACb,OAAO,EAAE,SAAS;SACrB,CAAC;8CACsB;IAMxB;QAJC,QAAQ,CAAC;YACN,IAAI,EAAE,EAAE,CAAC,IAAI;YACb,OAAO,EAAE,UAAU;SACtB,CAAC;iDACyB;IAtCV,SAAS;QAD7B,OAAO;OACa,SAAS,CAuQ7B;IAAD,gBAAC;CAvQD,AAuQC,CAvQsC,EAAE,CAAC,SAAS,GAuQlD;kBAvQoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\nimport { MODE, GameMode, SCREEN_OFFSET } from \"./Property\";\nimport AudioManager, { AudioID } from \"./AudioManager\";\nimport EventManager from \"./EventManager\";\nimport Common from \"./Common\";\nimport Utils from \"./Utils\";\nimport { GameData } from \"./GameData\";\n@ccclass\nexport default class GameScene extends cc.Component {\n    @property(cc.Node)\n    fkFrame: cc.Node = null;\n\n    @property(cc.Node)\n    fkBg: cc.Node = null;\n\n    @property(cc.Node)\n    fkScore: cc.Node = null;\n\n    @property(cc.Prefab)\n    rebornNode: cc.Prefab = null;\n\n    @property(cc.Prefab)\n    endScorePrefab: cc.Prefab = null;\n\n    @property(cc.Prefab)\n    endBestScorePrefab: cc.Prefab = null;\n\n    @property([dragonBones.ArmatureDisplay])\n    leafNode: dragonBones.ArmatureDisplay[] = [];\n\n    @property({\n        type: [cc.SpriteFrame],\n        tooltip: \"砸金蛋奖励图片\"\n    })\n    propSpf: cc.SpriteFrame[] = [];\n\n    @property({\n        type: cc.Node,\n        tooltip: \"按钮-道具炸弹\"\n    })\n    btnBomb: cc.Node = null;\n\n    @property({\n        type: cc.Node,\n        tooltip: \"按钮-道具彩虹锤\"\n    })\n    btnRainbow: cc.Node = null;\n\n    private boardFrame: any = null;\n    private kuaiManager: any = null;\n    private isProp: number = 0;\n    private propButton: cc.Node = null;\n    private isPropFly: boolean = false;\n\n    onLoad() {\n        GameData.pause();\n        GameData.gameDataBind = this;\n        AudioManager.instance.playSound(AudioID.Start);\n        \n        this.boardFrame = this.fkFrame.getComponent(\"boardFrame\");\n        this.kuaiManager = this.fkBg.getComponent(\"kuaiManager\");\n        this.fkScore = this.fkScore.getComponent(\"fkScore\");\n        this.changePropCount();\n    }\n\n    onDestroy() {\n        GameData.gameDataBind = null;\n    }\n\n    changePropCount() {\n        this.isPropFly = false;\n        \n        if (this.btnBomb) {\n            cc.find(\"icon_video\", this.btnBomb).active = GameData.propBomb < 1;\n            cc.find(\"count\", this.btnBomb).active = GameData.propBomb > 0;\n            cc.find(\"count\", this.btnBomb).getComponent(cc.Label).string = GameData.propBomb.toString();\n        }\n        \n        if (this.btnRainbow) {\n            cc.find(\"icon_video\", this.btnRainbow).active = GameData.propRainBow < 1;\n            cc.find(\"count\", this.btnRainbow).active = GameData.propRainBow > 0;\n            cc.find(\"count\", this.btnRainbow).getComponent(cc.Label).string = GameData.propRainBow.toString();\n        }\n        \n        console.log(\"道具数量\", GameData.propRainBow, GameData.propBomb);\n    }\n\n    start() {\n        this.isProp = 0;\n        this.propButton = null;\n    }\n\n    update(dt: number) {\n        if (!GameData.isPause) {\n            GameData.pushZJD_autoShow -= dt;\n            if (GameData.pushZJD_autoShow < 0) {\n                this.pushZaJinDan();\n            }\n        }\n    }\n\n    restartGame() {\n        AudioManager.instance.playClickSound();\n        \n        if (GameMode == MODE.TEACH && GameData.teachingXS == 3) {\n            GameData.teachingXS = 0;\n            GameData.saveData();\n        }\n        \n        GameData.blockData = [];\n        GameData.curScore = 0;\n        GameData.initialData();\n        Common.instance.toGame();\n    }\n\n    pushZaJinDan() {\n        Common.instance.pushZaJinDan(this.propSpf);\n    }\n\n    onClickBomb(event: cc.Event.EventTouch) {\n        if (this.isPropFly) return;\n        \n        if (this.getIsProp() == 0) {\n            if (GameData.propBomb > 0) {\n                this.propButton = event.target;\n                this.setIsProp(1);\n            } else {\n                EventManager.instance.showRewardedVideo(() => {\n                    this.propButton = event.target;\n                    this.setIsProp(1);\n                });\n            }\n        } else {\n            this.setIsProp(0);\n        }\n    }\n\n    onClickRainBow(event: cc.Event.EventTouch) {\n        if (this.isPropFly) return;\n        \n        if (this.getIsProp() == 0) {\n            if (GameData.propRainBow > 0) {\n                this.propButton = event.target;\n                this.setIsProp(2);\n            } else {\n                EventManager.instance.showRewardedVideo(() => {\n                    this.propButton = event.target;\n                    this.setIsProp(2);\n                });\n            }\n        } else {\n            this.setIsProp(0);\n        }\n    }\n\n    setIsProp(type: number) {\n        this.changePropCount();\n        this.isProp = type;\n        \n        cc.find(\"Canvas/btnBomb/image\").active = this.isProp == 1;\n        cc.find(\"Canvas/btnRainbow/image\").active = this.isProp == 2;\n        \n        if (this.isProp == 1) {\n            this.btnBomb.getComponent(cc.Animation).play();\n        } else if (this.isProp == 2) {\n            this.btnRainbow.getComponent(cc.Animation).play();\n        } else {\n            this.btnBomb.getComponent(cc.Animation).stop();\n            this.btnRainbow.getComponent(cc.Animation).stop();\n        }\n    }\n\n    getIsProp(): number {\n        return this.isProp;\n    }\n\n    vibrates(combo: number, xcNum: number) {\n        if (combo < 2 && xcNum < 2) return;\n        \n        console.log(\"combo=\" + combo, \"xcNum=\" + xcNum);\n        \n        if (combo == 5 || combo == 10 || combo == 15 || combo == 18 || combo == 20 || xcNum >= 4) {\n            this.pushZaJinDan();\n        }\n        \n        if (combo < 7) {\n            this.screenVibrates(() => {\n                if (xcNum > 1) {\n                    this.effectAni(xcNum);\n                }\n            });\n        } else {\n            this.effectAni(combo - 5, 1, (e: number) => {\n                if (e == 1 && xcNum > 1) {\n                    this.effectAni(xcNum, 2);\n                }\n            });\n        }\n    }\n\n    effectAni(num: number, type?: number, callback?: Function) {\n        console.log(\"num\", num);\n        if (num < 2) return;\n        \n        if (num > 6) {\n            num = 6;\n        }\n        \n        this.screenVibrates();\n        \n        const n = cc.find(\"Canvas/uiRoot/ShakeNode\");\n        if (n) {\n            const a = cc.find(num + \"rows\", n);\n            const i = cc.instantiate(a);\n            i.name = \"temp66666\";\n            i.parent = n;\n            i.active = true;\n            Utils.nodePlayAnimationCall(i, \"effect_shake_\" + num, () => {\n                if (callback) {\n                    callback(type);\n                }\n            });\n        }\n        \n        const playAnimation = (node: dragonBones.ArmatureDisplay, animName: string) => {\n            Utils.playAniCall(node, \"newAnimation_1\", () => {\n                Utils.playAni(node, animName);\n            });\n        };\n        \n        for (let s = 0; s < 4; s++) {\n            if (this.leafNode[s].animationName != \"newAnimation_1\") {\n                playAnimation(this.leafNode[s], this.leafNode[s].animationName);\n            }\n        }\n    }\n\n    screenVibrates(callback?: Function) {\n        const t = cc.find(\"Canvas/uiRoot\");\n        const o = t.x;\n        const n = t.y;\n        \n        cc.tween(t)\n            .repeat(2, cc.tween()\n                .to(0.018, { x: o + (5 + SCREEN_OFFSET), y: n + (7 + SCREEN_OFFSET) })\n                .to(0.018, { x: o - (6 + SCREEN_OFFSET), y: n + (7 + SCREEN_OFFSET) })\n                .to(0.018, { x: o - (13 + SCREEN_OFFSET), y: n + (3 + SCREEN_OFFSET) })\n                .to(0.018, { x: o + (3 + SCREEN_OFFSET), y: n - (6 + SCREEN_OFFSET) })\n                .to(0.018, { x: o - (5 + SCREEN_OFFSET), y: n + (5 + SCREEN_OFFSET) })\n                .to(0.018, { x: o + (2 + SCREEN_OFFSET), y: n - (8 + SCREEN_OFFSET) })\n                .to(0.018, { x: o - (8 + SCREEN_OFFSET), y: n - (10 + SCREEN_OFFSET) })\n                .to(0.018, { x: o + (3 + SCREEN_OFFSET), y: n + (10 + SCREEN_OFFSET) })\n                .to(0.018, { x: o + (0 + SCREEN_OFFSET), y: n + (0 + SCREEN_OFFSET) })\n                .to(0.018, { x: 0, y: 0 })\n            )\n            .call(() => {\n                if (callback) {\n                    callback();\n                }\n            })\n            .start();\n    }\n\n    tempA(e: number, t: number) {\n        this.vibrates(2, t);\n    }\n\n    temp_Effect() {\n        const e = cc.find(\"Canvas/New EditBox\").getComponent(cc.EditBox).string;\n        this.vibrates(Number(e), 6);\n    }\n}"]}