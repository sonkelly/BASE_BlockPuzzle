{"version":3,"sources":["assets/Scripts/pushChange.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\nimport Common from \"./Common\";\nimport EventManager from \"./EventManager\";\nimport ExtendScript from \"./ExtendScript\";\nimport { Property } from \"./Property\";\nimport { GameData } from \"./GameData\";\nimport { CHANNEL } from \"./PlatformA\";\nimport Utils from \"./Utils\";\n\n@ccclass\nexport default class PushChange extends ExtendScript {\n    @property(cc.Node)\n    btnCloseQQ: cc.Node = null;\n\n    @property(cc.Node)\n    btn_lookAD: cc.Node = null;\n\n    @property(cc.Node)\n    btn_change: cc.Node = null;\n\n    private callback: Function = null;\n    private callback2: Function = null;\n    private blockType: any = null;\n\n    onLoad(): void {\n        if (lplatform.channel == CHANNEL.qq && lplatform.labData.changePosition && \n            lplatform.labData.changePosition == 1 && Math.random() > 0.5) {\n            Utils.exchangePosition(this.btn_change, this.btnCloseQQ);\n        }\n        \n        if (lplatform.channel == CHANNEL.oppo && lplatform.labData.changePosition && \n            lplatform.labData.changePosition == 1 && Math.random() > 0.5) {\n            Utils.exchangePosition(this.btn_change, this.btn_lookAD);\n        }\n    }\n\n    start(): void {\n        EventManager.instance.EventInterstitial();\n    }\n\n    initial(e: Function, t: Function): void {\n        this.callback = e;\n        this.callback2 = t;\n    }\n\n    onClickChange(): void {\n        if (lplatform.channel == CHANNEL.oppo || lplatform.channel == CHANNEL.vivo) {\n            this.videoFinish();\n        } else {\n            EventManager.instance.showRewardedVideo(() => {\n                return this.videoFinish();\n            });\n        }\n    }\n\n    videoFinish(): void {\n        if (this.callback) {\n            this.callback(this.blockType);\n        }\n        this.clean();\n    }\n\n    onClickLookAD(): void {\n        if (window.ClickAdCallback != null) {\n            window.ClickAdCallback();\n        }\n    }\n\n    onClickClose(): void {\n        if (this.callback2) {\n            this.callback2();\n        }\n        this.clean();\n    }\n\n    clean(): void {\n        Common.instance.pushChangeTime();\n        GameData.pushChange_Time = Property.PUSH_TIME;\n        GameData.pushChangeCount--;\n        GameData.resume();\n        this.node.destroy();\n    }\n}"]}