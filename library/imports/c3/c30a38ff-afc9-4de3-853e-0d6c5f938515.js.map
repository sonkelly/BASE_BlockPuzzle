{"version":3,"sources":["assets/Scripts/AudioManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\nimport { GameData, GameBundle } from \"./GameData\";\nexport enum AudioID {\n    ClickMode = \"click_mode\",\n    Combo = \"combo\",\n    LienTemp = \"lienTemp\",\n    LienTempQQ = \"qqlienTemp\",\n    NewScore = \"newScore\",\n    Start = \"start\",\n    Lost = \"lost\",\n    Time = \"time321\",\n    BSelect = \"block_select\",\n    BDown = \"block_down\",\n    BCrazing = \"\",\n    EndScore = \"end_score\",\n    EndButton = \"end_button\",\n    EndBestScore = \"end_best_score\",\n    Unbelievable = \"lienTemp6\",\n    UnbelievableQQ = \"qqlienTemp6\",\n    Bomb = \"prop_boom\",\n    RainBow = \"prop_caiHong\"\n}\n\n@ccclass\nexport default class AudioManager extends cc.Component {\n    private static _instance: AudioManager = new AudioManager();\n    \n    public static get instance(): AudioManager {\n        return this._instance;\n    }\n\n    @property\n    bgVolume: number = 1;\n\n    @property\n    bgAudioID: number = -1;\n\n    @property\n    sfxVolume: number = 1;\n\n    private audioID: number = 0;\n\n    onLoad(): void {\n        //AudioManager._instance = this;\n    }\n\n    init(): void {\n        this.audioID = 0;\n    }\n\n    playBgMusic(): void {\n        GameBundle[1].load(\"Audio/bgm_menu\", cc.AudioClip, (err: Error, clip: cc.AudioClip) => {\n            if (err) {\n                console.error(\"load error => \" + err);\n            } else {\n                cc.audioEngine.playMusic(clip, true);\n            }\n        });\n    }\n\n    playBgmMusic(e: string | cc.AudioClip): void {\n        if (!e) return;\n\n        if (typeof e === \"string\") {\n            cc.resources.load(e, cc.AudioClip, (err: Error, clip: cc.AudioClip) => {\n                if (err) {\n                    console.error(\"load error => \" + err);\n                } else {\n                    cc.audioEngine.playMusic(clip, true);\n                }\n            });\n        } else if (typeof e === \"object\") {\n            cc.audioEngine.playMusic(e, true);\n        }\n    }\n\n    stopBgmMusic(): void {\n        cc.audioEngine.stopMusic();\n    }\n\n    pauseMusic(): void {\n        cc.audioEngine.pauseMusic();\n    }\n\n    resumeMusic(): void {\n        cc.audioEngine.resumeMusic();\n    }\n\n    playSound(e: string, t?: boolean): void {\n        if (GameData.audioSwitch !== 0 && e !== \"\") {\n            this.getUrl(\"Audio/\" + e, t);\n        }\n    }\n\n    playAniSound(e: string): void {\n        this.getUrl(\"Audio/Animation/\" + e);\n    }\n\n    playClickSound(): void {\n        if (GameData.audioSwitch !== 0) {\n            this.getUrl(\"Audio/click\");\n        }\n    }\n\n    playClickSound2(): void {\n        this.getUrl(\"Audio/click2\");\n    }\n\n    playAudioClip(e: cc.AudioClip, t: boolean = false): void {\n        if (e) {\n            cc.audioEngine.play(e, t);\n        }\n    }\n\n    private getUrl(e: string, t: boolean = false): void {\n        cc.resources.load(e, cc.AudioClip, (err: Error, clip: cc.AudioClip) => {\n            if (err) {\n                console.log(\"load error => \" + err);\n            } else {\n                this.audioID = cc.audioEngine.playEffect(clip, t);\n            }\n        });\n    }\n\n    pauseAll(): void {\n        cc.audioEngine.pauseAll();\n    }\n\n    resumeAll(): void {\n        cc.audioEngine.resumeAll();\n    }\n\n    stopAllEffects(): void {\n        cc.audioEngine.stopAllEffects();\n    }\n\n    pauseEffect(): void {\n        cc.audioEngine.pauseEffect(this.audioID);\n    }\n\n    resumeEffect(): void {\n        cc.audioEngine.resumeEffect(this.audioID);\n    }\n\n    setVolume0(): void {\n        cc.audioEngine.setMusicVolume(0);\n        cc.audioEngine.setEffectsVolume(0);\n    }\n\n    setVolume1(): void {\n        cc.audioEngine.setMusicVolume(1);\n        cc.audioEngine.setEffectsVolume(1);\n    }\n}\n\nexport const audioManager = new AudioManager();"]}